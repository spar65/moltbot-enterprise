---
description: Use ALWAYS to access the full registry of Cursor rules available for this project
alwaysApply: false
---

# AgentMinder Rules Registry

A comprehensive index of all rules available in this project, organized by domain and purpose.

---

## üöÄ **NEW: Cursor System Resources** (READ THIS FIRST!)

Before using this registry, you have powerful resources available:

### üìö **Essential Reading**

- **`003-cursor-system-overview.mdc`** ‚≠ê **START HERE** - Complete system overview

  - Documentation guide (`.cursor/docs/`)
  - Automation tools (`.cursor/tools/`)
  - Battle-tested workflows (95%+ success rate)
  - Quick start for new developers

- **`002-rule-application.mdc`** - Rule priority system and Source of Truth Hierarchy

### üõ†Ô∏è **Automation Tools**

- **`.cursor/tools/inspect-model.sh`** - Inspect Prisma models (ALWAYS use before database work!)

  ```bash
  ./.cursor/tools/inspect-model.sh YourModel
  ./.cursor/tools/inspect-model.sh --list
  ```

- **`.cursor/tools/check-schema-changes.sh`** - Validate schema before committing
  ```bash
  ./.cursor/tools/check-schema-changes.sh
  ```

### üìñ **Complete Documentation**

- **`.cursor/docs/rules-guide.md`** (3,500 words) - How to use the 152-rule system
- **`.cursor/docs/tools-guide.md`** (2,500 words) - Automation tools guide
- **`.cursor/docs/ai-workflows.md`** (3,000 words) - Proven patterns with real examples

**Time Savings:** These resources save 2-4 hours per test, 70-90% reduction in debugging

---

## üéØ **Project Startup** (USE ONLY WHEN STARTING NEW PROJECTS)

### When to Use These Rules

These rules form a **complete 4-phase startup sequence** for new projects. They are **opt-in only** (`alwaysApply: false`) and should NOT be applied during normal development.

**‚úÖ Use startup sequence when**:

- Starting a completely new project (greenfield development)
- Major feature requiring comprehensive specs (20+ hours development)
- Project requiring stakeholder buy-in and approval
- Building MVP for new product or service

**‚ùå Do NOT use startup sequence when**:

- Adding features to existing, well-documented projects
- Day-to-day development and maintenance
- Bug fixes or minor enhancements
- Quick prototypes or experiments (< 20 hours)

### The 4-Phase Startup Sequence

| Phase                 | Rules                                                                            | Time      | Output                                | Priority |
| --------------------- | -------------------------------------------------------------------------------- | --------- | ------------------------------------- | -------- |
| **1. Tech Stack**     | @900-tech-stack-selection.mdc                                                    | 30-60 min | Stack decision document               | P1       |
| **2. Documentation**  | @801-project-documentation-structure.mdc<br>@802-ai-documentation-generation.mdc | 5-8 hrs   | 15 spec documents (4,000-6,000 lines) | P1       |
| **3. Workflow Setup** | @800-workflow-guidelines.mdc<br>@802-git-workflow-standards.mdc                  | 1-2 hrs   | Git + CI/CD + PR templates            | P1       |
| **4. Implementation** | @801-implementation-plan.mdc                                                     | 1-2 hrs   | Phase-by-phase roadmap                | P1       |

**Total Time**: 8-13 hours  
**Time Saved**: 70-135 hours (ROI: 5-10x)  
**Success Rate**: 95%+ when followed completely

### Project Startup Rules

| Rule                                                                                   | Priority | Purpose                                                | Time          | Status     |
| -------------------------------------------------------------------------------------- | -------- | ------------------------------------------------------ | ------------- | ---------- |
| **[000-project-startup-guide.mdc](mdc:000-project-startup-guide.mdc)** ‚≠ê              | **P1**   | **Master entry point - Orchestrates all 4 phases**     | **N/A**       | ‚úÖ **NEW** |
| **[900-tech-stack-selection.mdc](mdc:900-tech-stack-selection.mdc)** ‚≠ê                | **P1**   | **Phase 1: Tech stack decision framework (50+ tools)** | **30-60 min** | ‚úÖ **NEW** |
| [801-project-documentation-structure.mdc](mdc:801-project-documentation-structure.mdc) | P1       | Phase 2: 15-document specification structure           | 5-8 hrs       | ‚úÖ Active  |
| [802-ai-documentation-generation.mdc](mdc:802-ai-documentation-generation.mdc)         | P1       | Phase 2: AI-assisted documentation generation          | Included      | ‚úÖ Active  |
| [800-workflow-guidelines.mdc](mdc:800-workflow-guidelines.mdc)                         | P1       | Phase 3: Development workflows and Git setup           | 1-2 hrs       | ‚úÖ Active  |
| [801-implementation-plan.mdc](mdc:801-implementation-plan.mdc)                         | P1       | Phase 4: Feature implementation planning               | 1-2 hrs       | ‚úÖ Active  |

### Quick Start - Using The Startup System

```bash
# üö® STARTING A NEW PROJECT? START HERE!

# 1. Tell Cursor you're starting a new project
"I'm starting a new project. Use @000-project-startup-guide.mdc"

# 2. Cursor will guide you through 4 phases:

# Phase 1: Tech Stack Selection (30-60 min)
# - Select frontend, backend, database, deployment, auth
# - Document decisions with rationale
# ‚Üí Output: docs/_tech-stack-decision.md

# Phase 2: Comprehensive Documentation (5-8 hrs)
# - Generate 15 specification documents
# - Run validation prompts
# - Fix critical inconsistencies
# ‚Üí Output: 15 docs (4,000-6,000 lines)

# Phase 3: Workflow Setup (1-2 hrs)
# - Set up Git repository
# - Configure branching strategy
# - Create PR templates
# - Set up CI/CD (optional)
# ‚Üí Output: Repository + workflow

# Phase 4: Implementation Planning (1-2 hrs)
# - Break roadmap into phases
# - Create implementation plan
# - Set up project tracking
# ‚Üí Output: Detailed implementation plan

# 3. After completion, proceed with normal development
# The startup guide is no longer active
# Use specification documents as single source of truth
```

### Proven Success Story

**NCLB Survey Application** (Real Example):

- **Startup Phase**: 11.5 hours (using this exact sequence)
- **Development**: 6 weeks to production
- **Result**:
  - 40 user stories ‚Üí 15 comprehensive docs ‚Üí 308 tests (100% pass)
  - Zero major architecture changes
  - Seamless developer onboarding
- **Time Saved**: ~95 hours (8.3x ROI)

### Related Resources

**Essential Guides**:

- **`guides/Project-Requirements-Generation-Complete-Guide.md`** ‚≠ê **MUST READ** - Complete prompts for all 15 documents

**Tools**:

- `.cursor/tools/inspect-model.sh` - Use during Phase 2 (database schema)
- `.cursor/tools/check-env-vars.sh` - Use during Phase 3 (workflow setup)

**Documentation**:

- `.cursor/docs/ai-workflows.md#project-startup` - AI-assisted startup patterns

---

## How to Use This Registry

This registry helps you find the right rule for your current task:

1. **Browse by category** to find relevant rules
2. **Click on rule links** to view complete documentation
3. **Reference rules in conversations** using the `@rule-name` syntax (e.g., `@015-white-labeling-consolidated.mdc`)
4. **Apply multiple rules** by referencing them in sequence

## Rule Priority System

Rules are categorized by priority to indicate their importance:

- **P0 (Required)**: Must be followed for all code changes. Violations are not acceptable without explicit team approval.
- **P1 (Important)**: Should be followed for most code changes. Temporary exceptions are allowed with proper documentation.
- **P2 (Nice to Have)**: Recommended practices to follow when time permits. Should be considered for mature features.

Refer to [002-rule-application.mdc](mdc:002-rule-application.mdc) for detailed guidance on applying rules based on their priority.

## Rule Categories

### Platform Architecture

| Rule                                                                           | Priority | Purpose                                  | When to Apply                                   | Status    |
| ------------------------------------------------------------------------------ | -------- | ---------------------------------------- | ----------------------------------------------- | --------- |
| [016-platform-hierarchy.mdc](mdc:016-platform-hierarchy.mdc)                   | P0       | Ensure proper platform data hierarchy    | When handling platform-level data               | ‚úÖ Active |
| [025-multi-tenancy.mdc](mdc:025-multi-tenancy.mdc)                             | P0       | Implement multi-tenant isolation         | When building features across org boundaries    | ‚úÖ Active |
| [017-platform-user-features.mdc](mdc:017-platform-user-features.mdc)           | P1       | Platform user management                 | When working with user permissions              | ‚úÖ Active |
| [015-white-labeling-consolidated.mdc](mdc:015-white-labeling-consolidated.mdc) | P1       | Organization branding and white-labeling | When implementing UI with organization branding | ‚úÖ Active |

**üìö Platform Architecture Guide (NEW!):**

- **`guides/Multi-Tenant-Architecture-Complete-Guide.md`** ‚≠ê **COMPREHENSIVE** - Complete multi-tenancy patterns
  - Row-level security (RLS)
  - Performance optimization
  - Query patterns & indexes
  - Testing strategies
  - Migration patterns
  - "Noisy neighbor" detection
  - Cost tracking per tenant

**Quick Reference**: All Platform Architecture rules updated with comprehensive cross-references!

### Security & Compliance

| Rule                                                                                                      | Priority | Purpose                                        | When to Apply                                                   | Status          |
| --------------------------------------------------------------------------------------------------------- | -------- | ---------------------------------------------- | --------------------------------------------------------------- | --------------- |
| [010-security-compliance.mdc](mdc:010-security-compliance.mdc)                                            | P0       | Core security standards                        | All security-related implementations                            | ‚úÖ Active       |
| **[011-env-var-security.mdc](mdc:011-env-var-security.mdc)** ‚≠ê                                           | **P0**   | **Environment Variable Security & Management** | **Security, type safety, validation for environment variables** | ‚úÖ **ENHANCED** |
| [012-api-security.mdc](mdc:012-api-security.mdc)                                                          | P0       | API security measures                          | When designing or implementing API endpoints                    | ‚úÖ Active       |
| [013-dependency-auditing.mdc](mdc:013-dependency-auditing.mdc)                                            | P1       | Security vulnerability scanning                | Before deployments and regularly                                | ‚úÖ Active       |
| [014-third-party-auth.mdc](mdc:014-third-party-auth.mdc)                                                  | P0       | Authentication implementation                  | When implementing auth systems                                  | ‚úÖ Active       |
| [019-auth0-integration.mdc](mdc:019-auth0-integration.mdc)                                                | P0       | Auth0 integration standards                    | Implementing Auth0 authentication                               | ‚úÖ Active       |
| [020-payment-security.mdc](mdc:020-payment-security.mdc)                                                  | P0       | Payment processing security                    | Handling payment information                                    | ‚úÖ Active       |
| [046-session-validation.mdc](mdc:046-session-validation.mdc)                                              | P0       | User session security                          | Auth flows and session handling                                 | ‚úÖ Active       |
| [047-security-design-system.mdc](mdc:047-security-design-system.mdc)                                      | P1       | Security UI components                         | Security-related UI elements                                    | ‚úÖ Active       |
| **[067-database-security.mdc](mdc:067-database-security.mdc)** ‚≠ê                                         | **P0**   | **Database Security Standards**                | **Database operations, SQL injection prevention**               | ‚úÖ **Active**   |
| **[072-auth-security.mdc](mdc:072-auth-security.mdc)** ‚≠ê                                                 | **P0**   | **Next.js Authentication Patterns**            | **Next.js auth flows, middleware, sessions**                    | ‚úÖ **Active**   |
| **[100-auth-provider-migration.mdc](mdc:100-auth-provider-migration.mdc)** ‚≠ê                             | **P1**   | **Authentication Provider Migration**          | **Migrating auth providers or upgrading versions**              | ‚úÖ **NEW**      |
| **[120-auth-architecture-patterns.mdc](mdc:120-auth-architecture-patterns.mdc)** ‚≠ê                       | **P0**   | **Authentication Architecture Design**         | **Designing secure auth systems, token handling**               | ‚úÖ **NEW**      |
| **[220-security-monitoring.mdc](mdc:220-security-monitoring.mdc)** ‚≠ê                                     | **P0**   | **Security Monitoring & WAF**                  | **Production security, rate limiting, WAF, DDoS protection**    | ‚úÖ **Active**   |
| **[224-secrets-management.mdc](mdc:224-secrets-management.mdc)** ‚≠ê                                       | **P0**   | **Secrets Management**                         | **Vault, AWS Secrets Manager, secret rotation**                 | ‚úÖ **Active**   |
| **[227-cryptographic-verification-standards.mdc](mdc:227-cryptographic-verification-standards.mdc)** ‚≠ê   | **P1**   | **Cryptographic Verification & Integrity**     | **Hash verification, tamper-proof data, audit trails**          | ‚úÖ **NEW**      |
| **[310-security-headers.mdc](mdc:310-security-headers.mdc)** ‚≠ê                                           | **P0**   | **Security Headers & CSP**                     | **HTTP security headers, CORS, XSS prevention**                 | ‚úÖ **Active**   |
| **[374-authentication-architecture-standards.mdc](mdc:374-authentication-architecture-standards.mdc)** ‚≠ê | **P0**   | **Dual Auth Patterns (Sessions + API Keys)**   | **Multiple auth methods, middleware, access control**           | ‚úÖ **NEW**      |
| **[385-webhook-implementation-standards.mdc](mdc:385-webhook-implementation-standards.mdc)** ‚≠ê           | **P0**   | **Webhook Implementation & Security**          | **HMAC signatures, retry logic, tamper-proof notifications**    | ‚úÖ **NEW**      |

**üõ°Ô∏è Security Domain Complete!**

**18 comprehensive security rules** covering:

- Core security compliance and standards
- Authentication & authorization (Auth0, sessions, Next.js patterns, provider migration)
- Authentication architecture (design patterns, dual auth, middleware)
- API & database security
- Environment variables & secrets management
- **Cryptographic verification & data integrity** ‚≠ê **NEW**
- **Webhook security & implementation** ‚≠ê **NEW**
- Payment security & PCI compliance
- Security monitoring, WAF, rate limiting
- Security headers, CSP, CORS
- Security UI components
- Dependency auditing & supply chain security

**üìö Security Quick Reference:**

- **Starting new feature?** ‚Üí Always review @010-security-compliance.mdc first
- **Building API endpoint?** ‚Üí Use @012-api-security.mdc + @060-api-standards.mdc
- **Implementing authentication?** ‚Üí Use @072-auth-security.mdc + @019-auth0-integration.mdc + @046-session-validation.mdc
- **Designing auth system?** ‚Üí Use @120-auth-architecture-patterns.mdc + @374-authentication-architecture-standards.mdc
- **Migrating auth provider?** ‚Üí Use @100-auth-provider-migration.mdc
- **Database queries?** ‚Üí Use @067-database-security.mdc (SQL injection prevention, multi-tenant isolation)
- **Environment variables?** ‚Üí Use @011-env-var-security.mdc + @224-secrets-management.mdc
- **Building webhooks?** ‚Üí Use @385-webhook-implementation-standards.mdc + @012-api-security.mdc ‚≠ê **NEW**
- **Tamper-proof data?** ‚Üí Use @227-cryptographic-verification-standards.mdc + @224-secrets-management.mdc ‚≠ê **NEW**
- **Production deployment?** ‚Üí Use @220-security-monitoring.mdc + @310-security-headers.mdc
- **Payment features?** ‚Üí Use @020-payment-security.mdc + @330-third-party-integration-testing.mdc
- **Third-party dependencies?** ‚Üí Use @013-dependency-auditing.mdc before deployment
- **Security UI elements?** ‚Üí Use @047-security-design-system.mdc

**üõ†Ô∏è Security Tools:**

- **`.cursor/tools/check-env-vars.sh`** - Environment variable validation
- **`.cursor/tools/scan-secrets.sh`** - Secret detection in codebase
- **`.cursor/tools/check-dependencies.sh`** - Security vulnerability scanning

**Time Savings:** These security rules prevent 80-95% of common vulnerabilities and save 10-20 hours per security incident

### Architecture & Patterns

| Rule                                                                                                      | Priority | Purpose                                      | When to Apply                                           | Status     |
| --------------------------------------------------------------------------------------------------------- | -------- | -------------------------------------------- | ------------------------------------------------------- | ---------- |
| **[065-database-access-patterns.mdc](mdc:065-database-access-patterns.mdc)** ‚≠ê                           | **P0**   | **Repository Pattern & Data Access**         | **Database operations, data layer architecture**        | ‚úÖ **NEW** |
| **[069-database-resilience-patterns.mdc](mdc:069-database-resilience-patterns.mdc)** ‚≠ê                   | **P0**   | **Database Fault Tolerance**                 | **Retry logic, circuit breakers, graceful degradation** | ‚úÖ **NEW** |
| **[070-nextjs-architecture.mdc](mdc:070-nextjs-architecture.mdc)** ‚≠ê                                     | **P1**   | **Next.js Directory Structure**              | **Next.js project setup, routing strategy**             | ‚úÖ **NEW** |
| **[100-feature-separation.mdc](mdc:100-feature-separation.mdc)** ‚≠ê                                       | **P1**   | **Feature/Documentation Separation**         | **Organizing features and documentation**               | ‚úÖ **NEW** |
| **[104-stable-interfaces.mdc](mdc:104-stable-interfaces.mdc)** ‚≠ê                                         | **P0**   | **API Stability Annotations**                | **Marking stable APIs and interfaces**                  | ‚úÖ **NEW** |
| **[110-api-client-standards.mdc](mdc:110-api-client-standards.mdc)** ‚≠ê                                   | **P1**   | **API Client Adapter Patterns**              | **Third-party API integrations, standardization**       | ‚úÖ **NEW** |
| **[110-middleware-architecture.mdc](mdc:110-middleware-architecture.mdc)** ‚≠ê                             | **P1**   | **Middleware Composition**                   | **Next.js middleware, request handling**                | ‚úÖ **NEW** |
| **[120-auth-architecture-patterns.mdc](mdc:120-auth-architecture-patterns.mdc)** ‚≠ê                       | **P0**   | **Authentication Architecture Design**       | **Designing auth systems, token handling**              | ‚úÖ **NEW** |
| **[374-authentication-architecture-standards.mdc](mdc:374-authentication-architecture-standards.mdc)** ‚≠ê | **P0**   | **Dual Auth Patterns (Sessions + API Keys)** | **Multiple auth methods, middleware design**            | ‚úÖ **NEW** |
| [042-ui-component-architecture.mdc](mdc:042-ui-component-architecture.mdc)                                | P1       | UI component structure and patterns          | When building or extending UI components                | ‚úÖ Active  |

**üèóÔ∏è Architecture & Patterns Domain Complete!**

**10 comprehensive architecture rules** covering:

- Database access patterns and resilience (repository pattern, fault tolerance)
- Next.js architecture (directory structure, routing, middleware)
- Feature organization and separation
- API stability and versioning (@stable annotations)
- **API client standardization** (third-party integrations)
- Authentication architecture (design patterns, dual auth)
- UI component architecture

**üìö Architecture Quick Reference:**

- **Database operations?** ‚Üí Use @065-database-access-patterns.mdc (repository pattern)
- **Database failures?** ‚Üí Use @069-database-resilience-patterns.mdc (retry, circuit breaker)
- **Starting Next.js project?** ‚Üí Use @070-nextjs-architecture.mdc (structure, routing)
- **Organizing features?** ‚Üí Use @100-feature-separation.mdc (feature/doc separation)
- **Writing scripts?** ‚Üí Use **@003-do-no-harm.mdc** (CORE RULE - file safety, no data loss)
- **Stable APIs?** ‚Üí Use @104-stable-interfaces.mdc (@stable annotations)
- **Third-party APIs?** ‚Üí Use @110-api-client-standards.mdc (adapter pattern, error handling)
- **Middleware?** ‚Üí Use @110-middleware-architecture.mdc (composition patterns)
- **Auth architecture?** ‚Üí Use @120-auth-architecture-patterns.mdc + @374-authentication-architecture-standards.mdc
- **UI components?** ‚Üí Use @042-ui-component-architecture.mdc

**üõ†Ô∏è Architecture Tools:**

- **`.cursor/tools/inspect-model.sh`** - Database model inspection
- **`.cursor/tools/check-migrations.sh`** - Migration validation
- **`.cursor/tools/validate-architecture.sh`** - Architecture compliance checking

**Time Savings:** These architecture rules prevent 60-80% of structural issues and save 15-25 hours per architectural refactor

### UI/UX Standards

| Rule                                                             | Priority | Purpose                            | When to Apply                    | Status    |
| ---------------------------------------------------------------- | -------- | ---------------------------------- | -------------------------------- | --------- |
| [030-visual-design-system.mdc](mdc:030-visual-design-system.mdc) | P1       | Visual design system & vibe coding | When implementing UI components  | ‚úÖ Active |
| [040-ux-stability.mdc](mdc:040-ux-stability.mdc)                 | P1       | UX stability                       | Preventing disruptive UX changes | ‚úÖ Active |
| [045-ux-enhancements.mdc](mdc:045-ux-enhancements.mdc)           | P2       | UX improvements                    | Adding UX refinements            | ‚úÖ Active |
| [050-css-architecture.mdc](mdc:050-css-architecture.mdc)         | P1       | CSS organization                   | Styling components and layouts   | ‚úÖ Active |

### Frontend Implementation

| Rule                                                                            | Priority | Purpose                                            | When to Apply                          | Status     |
| ------------------------------------------------------------------------------- | -------- | -------------------------------------------------- | -------------------------------------- | ---------- |
| [045-browser-state-management.mdc](mdc:045-browser-state-management.mdc)        | P1       | Browser history & cross-tab coordination           | Navigation and tab synchronization     | ‚úÖ Active  |
| **[049-client-storage-standards.mdc](mdc:049-client-storage-standards.mdc)** ‚≠ê | **P2**   | **Advanced client storage (IndexedDB, Cache API)** | **Offline-first apps, large datasets** | ‚úÖ **NEW** |
| **[049-browser-lifecycle-events.mdc](mdc:049-browser-lifecycle-events.mdc)** ‚≠ê | **P2**   | **Page Visibility API, online/offline handling**   | **Apps needing lifecycle awareness**   | ‚úÖ **NEW** |
| [051-interaction-patterns.mdc](mdc:051-interaction-patterns.mdc)                | P2       | User interactions                                  | Standard interaction behaviors         | üìÖ Planned |
| [052-responsive-design.mdc](mdc:052-responsive-design.mdc)                      | P1       | Responsive layouts                                 | Mobile and varied screen sizes         | üìÖ Planned |
| [053-animation-standards.mdc](mdc:053-animation-standards.mdc)                  | P2       | Animations                                         | Motion and transitions                 | üìÖ Planned |
| [054-accessibility-requirements.mdc](mdc:054-accessibility-requirements.mdc)    | P0       | Accessibility                                      | A11y compliance standards              | ‚úÖ Active  |
| [055-form-validation.mdc](mdc:055-form-validation.mdc)                          | P1       | Form validation                                    | Input validation patterns              | üìÖ Planned |

**üöÄ NEW: Browser & Storage Enhancement!**

- **`045-browser-state-management.mdc`** ‚úÖ Updated with cross-references
- **`049-client-storage-standards.mdc`** ‚≠ê **NEW** - IndexedDB, Cache API, quota management for offline-first apps
- **`049-browser-lifecycle-events.mdc`** ‚≠ê **NEW** - Page Visibility, online/offline, PWA install prompts

**üìö Browser & Storage Quick Reference:**

- **Basic storage?** ‚Üí Use @045-browser-state-management.mdc (localStorage, cross-tab sync)
- **Large datasets or offline-first?** ‚Üí Use @049-client-storage-standards.mdc (IndexedDB, Cache API)
- **Need to pause/resume on tab switch?** ‚Üí Use @049-browser-lifecycle-events.mdc (Page Visibility API)
- **Building PWA?** ‚Üí Use both @049-client-storage-standards.mdc + @049-browser-lifecycle-events.mdc

### Database

| Rule                                                                                    | Priority | Purpose                              | When to Apply                                           | Status          |
| --------------------------------------------------------------------------------------- | -------- | ------------------------------------ | ------------------------------------------------------- | --------------- |
| **[061-database-integration.mdc](mdc:061-database-integration.mdc)** ‚≠ê                 | **P0**   | **Database Integration with Auth0**  | **Database connections, TypeScript types, Auth0**       | ‚úÖ **NEW**      |
| **[065-database-access-patterns.mdc](mdc:065-database-access-patterns.mdc)** ‚≠ê         | **P0**   | **Repository Pattern & Data Access** | **Database operations, data layer architecture**        | ‚úÖ **Active**   |
| [066-database-migration-standards.mdc](mdc:066-database-migration-standards.mdc)        | P0       | Migration standards                  | Database schema changes                                 | ‚úÖ Active       |
| **[067-database-security.mdc](mdc:067-database-security.mdc)** ‚≠ê                       | **P0**   | **Database Security**                | **SQL injection prevention, multi-tenant isolation**    | ‚úÖ **Active**   |
| [068-database-monitoring-standards.mdc](mdc:068-database-monitoring-standards.mdc)      | P1       | Database monitoring                  | Production database health                              | ‚úÖ Active       |
| **[069-database-resilience-patterns.mdc](mdc:069-database-resilience-patterns.mdc)** ‚≠ê | **P0**   | **Fault Tolerance & Retry Logic**    | **Database failures, circuit breakers, degradation**    | ‚úÖ **Active**   |
| **[081-data-versioning-standards.mdc](mdc:081-data-versioning-standards.mdc)** ‚≠ê       | **P1**   | **Data Versioning & Audit Trails**   | **Audit trails, historization, point-in-time recovery** | ‚úÖ **Enhanced** |
| [082-database-performance-budgets.mdc](mdc:082-database-performance-budgets.mdc)        | P1       | Performance budgets                  | Database performance optimization                       | ‚úÖ Active       |
| **[208-database-operations.mdc](mdc:208-database-operations.mdc)** ‚≠ê                   | **P0**   | **Database Operations & Backups**    | **Migrations, backups, monitoring, disaster recovery**  | ‚úÖ **Active**   |

**üóÑÔ∏è Database Domain Complete!**

**9 comprehensive database rules** covering:

- Database integration (Auth0, TypeScript, connections)
- Access patterns (repository pattern, data layer)
- Security (SQL injection, multi-tenant isolation)
- Resilience (fault tolerance, retry logic, circuit breakers)
- Operations (migrations, backups, disaster recovery)
- Monitoring (performance, health checks)
- Data versioning (audit trails, historization)

**üìö Database Quick Reference:**

- **Setting up database?** ‚Üí Use @061-database-integration.mdc (connections, types, Auth0)
- **Data access layer?** ‚Üí Use @065-database-access-patterns.mdc (repository pattern)
- **Schema changes?** ‚Üí Use @066-database-migration-standards.mdc (migrations)
- **SQL queries?** ‚Üí Use @067-database-security.mdc (SQL injection, multi-tenant)
- **Database failures?** ‚Üí Use @069-database-resilience-patterns.mdc (retry, circuit breaker)
- **Audit trails?** ‚Üí Use @081-data-versioning-standards.mdc (versioning, historization)
- **Performance issues?** ‚Üí Use @082-database-performance-budgets.mdc (optimization)
- **Production ops?** ‚Üí Use @208-database-operations.mdc (backups, monitoring, recovery)
- **Production monitoring?** ‚Üí Use @068-database-monitoring-standards.mdc (health checks)

**üõ†Ô∏è Database Tools:**

- **`.cursor/tools/inspect-model.sh`** - Prisma model inspection
- **`.cursor/tools/check-migrations.sh`** - Migration validation
- **`.cursor/tools/check-backups.sh`** - Backup health verification
- **`.cursor/tools/check-history-growth.sh`** - Audit trail monitoring

**üìö Database Guides:**

- **`guides/Database-Operations-Complete-Guide.md`** ‚≠ê **Essential**
- **`guides/Database-Error-Classification-Guide.md`**
- **`guides/Database-Resilience-Guide.md`**
- **`guides/Database-Schema-Guide.md`**
- **`guides/Multi-Tenant-Architecture-Complete-Guide.md`** ‚≠ê

**Time Savings:** These database rules prevent 70-85% of data issues and save 20-30 hours per database incident

### Testing Standards

| Rule                                                                                   | Priority | Purpose                         | When to Apply                                                   | Status     |
| -------------------------------------------------------------------------------------- | -------- | ------------------------------- | --------------------------------------------------------------- | ---------- |
| **[375-api-test-first-time-right.mdc](mdc:375-api-test-first-time-right.mdc)** ‚≠ê      | **P0**   | **API Testing (Schema-First)**  | **BEFORE writing ANY API test - Prevents 40+ hours debugging**  | ‚úÖ **NEW** |
| **[376-database-test-isolation.mdc](mdc:376-database-test-isolation.mdc)** ‚≠ê          | **P0**   | **Database Testing Patterns**   | **ALL database tests - UUID-based data, cleanup patterns**      | ‚úÖ **NEW** |
| **[377-prisma-neon-connection.mdc](mdc:377-prisma-neon-connection.mdc)** ‚≠ê             | **P0**   | **Prisma/Neon TLS Fix**         | **TLS connection errors with Neon database - Use pg adapter**   | ‚úÖ **NEW** |
| [300-testing-standards.mdc](mdc:300-testing-standards.mdc)                             | P0       | General testing                 | All testing scenarios                                           | ‚úÖ Active  |
| [380-comprehensive-testing-standards.mdc](mdc:380-comprehensive-testing-standards.mdc) | P0       | **Universal Testing Framework** | **All tests - Visual organization, bulletproof infrastructure** | ‚úÖ Active  |
| [350-debug-test-failures.mdc](mdc:350-debug-test-failures.mdc)                         | P0       | **Systematic Test Debugging**   | **Facing multiple test failures or systematic debugging**       | ‚úÖ Active  |
| [301-test-first-mandate.mdc](mdc:301-test-first-mandate.mdc)                           | P1       | Test-first development          | Starting new features                                           | ‚úÖ Active  |
| [310-component-visual-testing.mdc](mdc:310-component-visual-testing.mdc)               | P1       | Visual testing                  | UI component tests                                              | ‚úÖ Active  |
| [320-test-resilience.mdc](mdc:320-resilience.mdc)                                      | P1       | Test reliability                | Creating robust tests                                           | ‚úÖ Active  |
| [330-third-party-integration-testing.mdc](mdc:330-third-party-integration-testing.mdc) | P0       | Integration testing             | Testing third-party services                                    | ‚úÖ Active  |
| [331-high-risk-feature-testing.mdc](mdc:331-high-risk-feature-testing.mdc)             | P0       | Critical path testing           | Testing high-impact features                                    | ‚úÖ Active  |
| [360-wizard-architecture-standards.mdc](mdc:360-wizard-architecture-standards.mdc)     | P1       | Multi-step Wizard Development   | Building wizards based on real PRD Wizard experience            | ‚úÖ Active  |
| [351-sql-mock-debugging.mdc](mdc:351-sql-mock-debugging.mdc)                           | P1       | SQL mock debugging patterns     | SQL mock failures and sequence misalignments                    | ‚úÖ Active  |
| [355-rate-limiting-implementation.mdc](mdc:355-rate-limiting-implementation.mdc)       | P0       | Rate Limiting Implementation    | Implementing rate limiting systems with bulletproof testing     | ‚úÖ Active  |
| [356-rate-limiting-testing-patterns.mdc](mdc:356-rate-limiting-testing-patterns.mdc)   | P0       | Rate Limiting Testing Patterns  | Dual-mock middleware testing breakthrough patterns              | ‚úÖ Active  |
| **[350-admin-testing-patterns.mdc](mdc:350-admin-testing-patterns.mdc)** ‚≠ê            | **P1**   | **Admin Feature Testing**       | **Testing admin features and user management**                  | ‚úÖ **NEW** |
| **[371-api-test-architecture.mdc](mdc:371-api-test-architecture.mdc)** ‚≠ê              | **P1**   | **API Test Architecture**       | **Deciding API testing strategy and architecture**              | ‚úÖ **NEW** |
| **[400-auth-testing-patterns.mdc](mdc:400-auth-testing-patterns.mdc)** ‚≠ê              | **P1**   | **Authentication Testing**      | **Testing auth flows, sessions, protected routes**              | ‚úÖ **NEW** |
| [043-test-organization.mdc](mdc:043-test-organization.mdc)                             | P1       | Test structure                  | Organizing test files                                           | ‚úÖ Active  |
| [044-integration-testing.mdc](mdc:044-integration-testing.mdc)                         | P1       | Integration tests               | Testing component integration                                   | ‚úÖ Active  |
| [116-testing-environments.mdc](mdc:116-testing-environments.mdc)                       | P0       | Test environment structure      | Creating test pages and endpoints                               | ‚úÖ Active  |

**üéØ Quick Testing Reference:**

- **Writing API test?** ‚Üí Use Rule 375 + `.cursor/tools/inspect-model.sh`
- **Database test?** ‚Üí Use Rule 376 + `.cursor/docs/ai-workflows.md#database-test-patterns`
- **Test failing?** ‚Üí Use Rule 350 + `.cursor/docs/ai-workflows.md#debugging-with-ai`
- **API test strategy?** ‚Üí Use @371-api-test-architecture.mdc (integration vs unit, mock strategy)
- **Admin feature testing?** ‚Üí Use @350-admin-testing-patterns.mdc
- **Auth testing?** ‚Üí Use @400-auth-testing-patterns.mdc (sessions, protected routes)

> üéâ **SUCCESS STORY:** See [Testing Framework Success - AI Survey Education](mdc:/Users/spehargreg/Development/NCLB/guides/99-testing-framework-success-AI-survey-education.md) for a comprehensive case study of how we achieved 308 passing tests with 100% pass rate through the synergy of AI assistance and these testing rules. This guide demonstrates the practical application of Rules 300 and 380 in achieving enterprise-grade test coverage.

### Payment & Stripe Integration

| Rule                                                                         | Priority | Purpose                     | When to Apply                      | Status    |
| ---------------------------------------------------------------------------- | -------- | --------------------------- | ---------------------------------- | --------- |
| [020-payment-security.mdc](mdc:020-payment-security.mdc)                     | P0       | Payment processing security | Handling payment information       | ‚úÖ Active |
| [020-stripe-integration.mdc](mdc:020-stripe-integration.mdc)                 | P0       | Stripe integration patterns | When implementing Stripe features  | ‚úÖ Active |
| [021-stripe-sync-implementation.mdc](mdc:021-stripe-sync-implementation.mdc) | P0       | Stripe sync implementation  | When implementing Stripe data sync | ‚úÖ Active |
| [069-stripe-webhook-debugging.mdc](mdc:069-stripe-webhook-debugging.mdc)     | P1       | Stripe webhook debugging    | Troubleshooting webhooks           | ‚úÖ Active |

### Performance & Optimization

| Rule                                                                                      | Priority | Purpose                           | When to Apply                                     | Status     |
| ----------------------------------------------------------------------------------------- | -------- | --------------------------------- | ------------------------------------------------- | ---------- |
| **[062-core-web-vitals.mdc](mdc:062-core-web-vitals.mdc)** ‚≠ê                             | **P0**   | **Core Web Vitals (LCP/INP/CLS)** | **All user-facing features - SEO ranking factor** | ‚úÖ **NEW** |
| **[064-caching-strategies.mdc](mdc:064-caching-strategies.mdc)** ‚≠ê                       | **P0**   | **Multi-layer Caching**           | **Production features - Critical for scale**      | ‚úÖ **NEW** |
| **[062-rendering-strategies.mdc](mdc:062-rendering-strategies.mdc)** ‚≠ê                   | **P1**   | **SSR/SSG/ISR/RSC**               | **Choosing rendering strategy per page**          | ‚úÖ **NEW** |
| **[067-runtime-optimization.mdc](mdc:067-runtime-optimization.mdc)** ‚≠ê                   | **P1**   | **React & Runtime Performance**   | **Interactive features - INP optimization**       | ‚úÖ **NEW** |
| **[064-font-optimization.mdc](mdc:064-font-optimization.mdc)** ‚≠ê                         | **P1**   | **Font Loading**                  | **Typography - CLS prevention**                   | ‚úÖ **NEW** |
| **[065-third-party-script-management.mdc](mdc:065-third-party-script-management.mdc)** ‚≠ê | **P1**   | **Third-Party Scripts**           | **Analytics, chat widgets, ads**                  | ‚úÖ **NEW** |
| **[066-network-optimization.mdc](mdc:066-network-optimization.mdc)** ‚≠ê                   | **P1**   | **Network Performance**           | **Resource hints, compression, HTTP/2**           | ‚úÖ **NEW** |
| [060-performance-metrics.mdc](mdc:060-performance-metrics.mdc)                            | P1       | Performance KPIs                  | Measuring performance                             | ‚úÖ Active  |
| [061-code-splitting.mdc](mdc:061-code-splitting.mdc)                                      | P1       | Code splitting                    | Bundle size optimization                          | ‚úÖ Active  |
| [063-client-performance.mdc](mdc:063-client-performance.mdc)                              | P1       | Client-side optimization          | Interactive features                              | ‚úÖ Active  |

**üöÄ Quick Performance Reference:**

- **Starting new feature?** ‚Üí Read `guides/Frontend-Performance-Complete-Guide.md` (MASTER guide)
- **Need baseline?** ‚Üí Run `.cursor/tools/analyze-performance.sh`
- **LCP slow?** ‚Üí Use @062-core-web-vitals.mdc + `guides/Core-Web-Vitals-Optimization-Guide.md`
- **Bundle too large?** ‚Üí Run `.cursor/tools/check-bundle-size.sh` + @061-code-splitting.mdc
- **Interactions janky?** ‚Üí Use @067-runtime-optimization.mdc

**üõ†Ô∏è Performance Tools (NEW!):**

- **`.cursor/tools/run-lighthouse.sh`** - Lighthouse audits (mobile & desktop)
- **`.cursor/tools/check-bundle-size.sh`** - Bundle size analysis & budget checking
- **`.cursor/tools/analyze-performance.sh`** - Comprehensive performance analysis

**üìö Performance Guides (NEW!):**

- **`guides/Frontend-Performance-Complete-Guide.md`** - **MASTER** (covers everything!)
- **`guides/Core-Web-Vitals-Optimization-Guide.md`** - LCP, INP, CLS deep dive
- **`guides/Performance-Monitoring-Complete-Guide.md`** - Monitoring & alerting
- **`guides/Caching-Complete-Guide.md`** - Multi-layer caching strategies

**Time Savings:** These resources save 2-4 hours per feature, 70-90% reduction in performance debugging

### Development Practices

| Rule                                                                           | Priority | Purpose                   | When to Apply                         | Status      |
| ------------------------------------------------------------------------------ | -------- | ------------------------- | ------------------------------------- | ----------- |
| [100-coding-patterns.mdc](mdc:100-coding-patterns.mdc)                         | P0       | Code patterns             | General coding standards              | ‚úÖ Active   |
| **[101-code-review-standards.mdc](mdc:101-code-review-standards.mdc)** ‚≠ê      | **P0**   | **Code Review**           | **Reviewing or submitting code**      | ‚úÖ **NEW**  |
| [105-typescript-linter-standards.mdc](mdc:105-typescript-linter-standards.mdc) | P0       | TypeScript linting        | Writing or modifying TypeScript code  | ‚ö†Ô∏è REQUIRED |
| [115-auth0-m2m-troubleshooting.mdc](mdc:115-auth0-m2m-troubleshooting.mdc)     | P0       | Auth0 M2M troubleshooting | Debugging Auth0 Management API issues | ‚úÖ Active   |
| [120-technical-stack.mdc](mdc:120-technical-stack.mdc)                         | P1       | Tech stack                | Technology selection                  | ‚úÖ Active   |
| [130-logging-standards.mdc](mdc:130-logging-standards.mdc)                     | P0       | Logging                   | Application logging                   | ‚úÖ Active   |
| [131-error-handling.mdc](mdc:131-error-handling.mdc)                           | P0       | Error handling            | Application error flows               | ‚úÖ Active   |
| [140-troubleshooting-standards.mdc](mdc:140-troubleshooting-standards.mdc)     | P1       | Troubleshooting           | Debugging and issue resolution        | ‚úÖ Active   |
| [150-technical-debt-prevention.mdc](mdc:150-technical-debt-prevention.mdc)     | P0       | Technical debt            | Code cleanup and maintenance          | ‚úÖ Active   |

**üöÄ NEW: Critical Development Rules!**

- **`101-code-review-standards.mdc`** ‚≠ê - Code review is THE quality gatekeeper
- **`802-git-workflow-standards.mdc`** ‚≠ê - Git branching, commits, collaboration
- **`803-pull-request-workflow.mdc`** ‚≠ê - PR creation, review, merging
- **`804-hotfix-procedures.mdc`** ‚≠ê - Production emergency response
- **`805-build-test-verify-workflow.mdc`** ‚≠ê **CRITICAL** - Build ‚Üí Test ‚Üí Verify ‚Üí Commit cycle (P0 MANDATORY)

**üìö Critical Development Guides:**

- **`guides/Code-Review-Complete-Guide.md`** ‚≠ê - Comprehensive review guide
- **`guides/Git-Workflow-Complete-Guide.md`** ‚≠ê - Complete Git workflow guide

### AI Agent Integration (MindStudio)

| Rule                                                                                    | Priority | Purpose                                | When to Apply                               | Status          |
| --------------------------------------------------------------------------------------- | -------- | -------------------------------------- | ------------------------------------------- | --------------- |
| **[115-mindstudio-integration.mdc](mdc:115-mindstudio-integration.mdc)** ‚≠ê             | **P0**   | **Core MindStudio API Integration**    | **MindStudio API setup, workers, keys**     | ‚úÖ **Active**   |
| **[117-mindstudio-agent-integration.mdc](mdc:117-mindstudio-agent-integration.mdc)** ‚≠ê | **P0**   | **Secure Agent Integration Standards** | **Agent authentication, security patterns** | ‚úÖ **ENHANCED** |
| **[118-mindstudio-type-safety.mdc](mdc:118-mindstudio-type-safety.mdc)** ‚≠ê             | **P0**   | **Type Safety for AI Agents**          | **TypeScript types, Zod validation**        | ‚úÖ **ENHANCED** |
| **[119-mindstudio-error-handling.mdc](mdc:119-mindstudio-error-handling.mdc)** ‚≠ê       | **P0**   | **AI Agent Error Handling**            | **Retry logic, circuit breakers for AI**    | ‚úÖ **ENHANCED** |
| **[120-mindstudio-orchestration.mdc](mdc:120-mindstudio-orchestration.mdc)** ‚≠ê         | **P1**   | **Multi-Agent Orchestration**          | **Coordinating multiple AI agents**         | ‚úÖ **ENHANCED** |
| **[121-mindstudio-testing.mdc](mdc:121-mindstudio-testing.mdc)** ‚≠ê                     | **P1**   | **AI Agent Testing Standards**         | **Testing AI integrations, mocking**        | ‚úÖ **ENHANCED** |

**ü§ñ AI Agent Integration Domain Complete!**

**7 comprehensive rules** covering:

- Core MindStudio API integration (workers, API keys, responses)
- Secure agent patterns (authentication, organization isolation)
- Type safety (TypeScript, Zod, generated types with `npx mindstudio sync`)
- Error handling (retry, circuit breaker, cascading failure prevention)
- Multi-agent orchestration ("Dragon Orchestra" methodology)
- Comprehensive testing (mocks, contracts, non-deterministic responses)

**üìö AI Integration Quick Reference:**

- **Setting up MindStudio?** ‚Üí Use @115-mindstudio-integration.mdc (core setup)
- **Secure integration?** ‚Üí Use @117-mindstudio-agent-integration.mdc (auth, security)
- **Type safety?** ‚Üí Use @118-mindstudio-type-safety.mdc (TypeScript, Zod, `npx mindstudio sync`)
- **Error handling?** ‚Üí Use @119-mindstudio-error-handling.mdc (retry, circuit breaker)
- **Multiple agents?** ‚Üí Use @120-mindstudio-orchestration.mdc ("Dragon Orchestra")
- **Testing AI agents?** ‚Üí Use @121-mindstudio-testing.mdc (mocks, contracts, CI/CD)

**üõ†Ô∏è MindStudio Tools:**

- **`npx mindstudio sync`** - Generate TypeScript types from agents
- **`.cursor/tools/check-env-vars.sh`** - Validate MindStudio API keys

**üìö MindStudio Guides:**

- **`guides/MindStudio-Integration-Complete-Guide.md`** ‚≠ê **Essential** - Complete integration guide
- **`guides/AI-Agent-Orchestration-Guide.md`** - "Dragon Orchestra" patterns

**Time Savings:** These rules save 5-10 hours per AI integration, 80-95% reduction in AI-related bugs

### DevOps & Infrastructure

| Rule                                                                                         | Priority | Purpose                       | When to Apply                                                          | Status          |
| -------------------------------------------------------------------------------------------- | -------- | ----------------------------- | ---------------------------------------------------------------------- | --------------- |
| [200-deployment-infrastructure.mdc](mdc:200-deployment-infrastructure.mdc)                   | P0       | Deployment                    | CI/CD and deployments                                                  | ‚úÖ Active       |
| [201-vercel-deployment-standards.mdc](mdc:201-vercel-deployment-standards.mdc)               | P0       | Vercel deployment             | Deploying to Vercel                                                    | ‚úÖ Active       |
| **[202-vercel-production-gotchas.mdc](mdc:202-vercel-production-gotchas.mdc)** ‚≠ê            | **P0**   | **Vercel Production Safety**  | **CRITICAL: Prevent catastrophic Vercel production failures**          | ‚úÖ **UPDATED**  |
| **[203-production-deployment-safety.mdc](mdc:203-production-deployment-safety.mdc)** ‚≠ê      | **P0**   | **Production Safety**         | **Comprehensive production deployment safety standards**               | ‚úÖ **UPDATED**  |
| **[202-rollback-procedures.mdc](mdc:202-rollback-procedures.mdc)** ‚≠ê                        | **P0**   | **Emergency Rollback**        | **Production emergencies requiring immediate rollback**                | ‚úÖ **NEW**      |
| **[221-application-monitoring.mdc](mdc:221-application-monitoring.mdc)** ‚≠ê                  | **P0**   | **Application Monitoring**    | **All production deployments - Track metrics, errors, performance**    | ‚úÖ **NEW**      |
| **[222-metrics-alerting.mdc](mdc:222-metrics-alerting.mdc)** ‚≠ê                              | **P0**   | **Metrics & Alerting**        | **Production systems - Define SLOs, configure alerts**                 | ‚úÖ **NEW**      |
| **[208-database-operations.mdc](mdc:208-database-operations.mdc)** ‚≠ê                        | **P0**   | **Database Operations**       | **Database migrations, backups, monitoring, performance**              | ‚úÖ **NEW**      |
| **[081-data-versioning-standards.mdc](mdc:081-data-versioning-standards.mdc)** ‚≠ê            | **P1**   | **Data Versioning & Audit**   | **Audit trails, historization, point-in-time recovery**                | ‚úÖ **ENHANCED** |
| **[224-secrets-management.mdc](mdc:224-secrets-management.mdc)** ‚≠ê                          | **P0**   | **Secrets Management**        | **Managing API keys, credentials, encryption keys**                    | ‚úÖ **NEW**      |
| **[203-ci-cd-pipeline-standards.mdc](mdc:203-ci-cd-pipeline-standards.mdc)** ‚≠ê              | **P1**   | **CI/CD Pipelines**           | **Setting up or modifying CI/CD pipelines**                            | ‚úÖ **NEW**      |
| **[223-health-checks.mdc](mdc:223-health-checks.mdc)** ‚≠ê                                    | **P1**   | **Health Check Endpoints**    | **Implementing service health checks for load balancers**              | ‚úÖ **NEW**      |
| **[211-sla-slo-standards.mdc](mdc:211-sla-slo-standards.mdc)** ‚≠ê                            | **P1**   | **SLA/SLO Standards**         | **Defining service level objectives and agreements**                   | ‚úÖ **NEW**      |
| **[212-backup-recovery-standards.mdc](mdc:212-backup-recovery-standards.mdc)** ‚≠ê            | **P1**   | **Backup & Recovery**         | **Implementing backup strategies and disaster recovery**               | ‚úÖ **NEW**      |
| **[225-infrastructure-monitoring.mdc](mdc:225-infrastructure-monitoring.mdc)** ‚≠ê            | **P1**   | **Infrastructure Monitoring** | **Monitoring servers, containers, databases, network**                 | ‚úÖ **NEW**      |
| **[226-cost-optimization.mdc](mdc:226-cost-optimization.mdc)** ‚≠ê                            | **P2**   | **Cost Optimization**         | **Managing cloud costs and resource efficiency**                       | ‚úÖ **NEW**      |
| [200-shadcn-ui-strictness.mdc](mdc:200-shadcn-ui-strictness.mdc)                             | P1       | UI library usage              | Working with shadcn/ui                                                 | ‚úÖ Active       |
| [210-operations-incidents.mdc](mdc:210-operations-incidents.mdc)                             | P1       | Incidents                     | Handling production issues                                             | ‚úÖ Active       |
| [204-vercel-build-environment-variables.mdc](mdc:204-vercel-build-environment-variables.mdc) | P0       | **VERCEL BUILD SAFETY**       | **CRITICAL: Prevents build env vars from breaking production runtime** | ‚úÖ Active       |

**üöÄ Quick Vercel Deployment Reference:**

- **Planning deployment?** ‚Üí Use @203-production-deployment-safety.mdc + @202-vercel-production-gotchas.mdc
- **Env var issues?** ‚Üí Use @204-vercel-build-environment-variables.mdc + `.cursor/tools/check-env-vars.sh`
- **Need rollback?** ‚Üí Use @202-rollback-procedures.mdc immediately
- **Post-deployment monitoring?** ‚Üí Use @221-application-monitoring.mdc + @222-metrics-alerting.mdc

**üõ†Ô∏è DevOps Tools (NEW!):**

- **`.cursor/tools/check-backups.sh`** - Verify backup health and coverage
- **`.cursor/tools/test-recovery.sh`** - Simulate disaster recovery procedures
- **`.cursor/tools/check-infrastructure.sh`** - Verify infrastructure health and configuration
- **`.cursor/tools/analyze-costs.sh`** - Analyze infrastructure costs and identify savings

**üìö DevOps Guides (NEW!):**

- **`guides/Monitoring-Complete-Guide.md`** - Application & infrastructure monitoring
- **`guides/Incident-Response-Complete-Guide.md`** - Incident response procedures and on-call management
- **`guides/Database-Operations-Complete-Guide.md`** - Database management, migrations, backups
- **`guides/Secrets-Management-Complete-Guide.md`** - Secure credential management
- **`guides/Cost-Optimization-Complete-Guide.md`** - Cloud cost optimization strategies

**Time Savings:** These resources save 4-8 hours per deployment, 70-90% reduction in incident resolution time

### Workflows & Processes

| Rule                                                                        | Priority | Purpose                         | When to Apply                                            | Status     |
| --------------------------------------------------------------------------- | -------- | ------------------------------- | -------------------------------------------------------- | ---------- |
| [800-workflow-guidelines.mdc](mdc:800-workflow-guidelines.mdc)              | P1       | Workflows                       | Development workflows                                    | ‚úÖ Active  |
| [801-implementation-plan.mdc](mdc:801-implementation-plan.mdc)              | P1       | Feature implementation planning | When building new features or making significant changes | ‚úÖ Active  |
| **[802-git-workflow-standards.mdc](mdc:802-git-workflow-standards.mdc)** ‚≠ê | **P1**   | **Git Workflow**                | **Branching, commits, collaboration**                    | ‚úÖ **NEW** |
| **[803-pull-request-workflow.mdc](mdc:803-pull-request-workflow.mdc)** ‚≠ê   | **P1**   | **PR Workflow**                 | **Creating, reviewing, merging PRs**                     | ‚úÖ **NEW** |
| **[804-hotfix-procedures.mdc](mdc:804-hotfix-procedures.mdc)** ‚≠ê           | **P0**   | **Hotfix Emergency Response**   | **Production emergencies**                               | ‚úÖ **NEW** |
| **[805-build-test-verify-workflow.mdc](mdc:805-build-test-verify-workflow.mdc)** ‚≠ê | **P0** | **Build-Test-Verify Cycle** | **MANDATORY for ALL development - prevents issue accumulation** | ‚úÖ **NEW** |

**üìù Note**: `900-stack-advisor.mdc` has been replaced by `900-tech-stack-selection.mdc` in the **Project Startup** section above.

### Rules Management

| Rule                                                                 | Priority | Purpose                                                     | When to Apply              | Status          |
| -------------------------------------------------------------------- | -------- | ----------------------------------------------------------- | -------------------------- | --------------- |
| [000-core-guidelines.mdc](mdc:000-core-guidelines.mdc)               | P0       | Core guidelines                                             | All development            | ‚úÖ Active       |
| [001-cursor-rules.mdc](mdc:001-cursor-rules.mdc)                     | P0       | Rules format                                                | Creating or updating rules | ‚úÖ Active       |
| [002-rule-application.mdc](mdc:002-rule-application.mdc)             | P0       | Rule application                                            | Implementing any feature   | ‚ö†Ô∏è REQUIRED     |
| **[003-do-no-harm.mdc](mdc:003-do-no-harm.mdc)** ‚≠ê                  | **P0**   | **"Do No Harm" - Core safety principle for ALL operations** | **ALL development**        | ‚úÖ **PROMOTED** |
| [003-cursor-system-overview.mdc](mdc:003-cursor-system-overview.mdc) | P1       | System overview and resources                               | Starting any task          | ‚úÖ Active       |

## Combined Rule Applications

Some tasks benefit from applying multiple rules together:

### Development & Code Quality

- **üöÄ Creating a Pull Request:**

  - @802-git-workflow-standards.mdc + @803-pull-request-workflow.mdc + @101-code-review-standards.mdc
  - Create PR following workflow ‚Üí Self-review ‚Üí Request review

- **üëÄ Reviewing Code:**

  - @101-code-review-standards.mdc + @100-coding-patterns.mdc + @105-typescript-linter-standards.mdc + @012-api-security.mdc
  - Review for quality ‚Üí Check patterns ‚Üí Verify types ‚Üí Security check

- **üö® Production Emergency:**

  - @804-hotfix-procedures.mdc + @802-git-workflow-standards.mdc + @101-code-review-standards.mdc
  - Declare incident ‚Üí Create hotfix branch ‚Üí Fast-track review ‚Üí Deploy

- **üßπ Refactoring Code:**
  - @150-technical-debt-prevention.mdc + @100-coding-patterns.mdc + @300-testing-standards.mdc
  - Identify debt ‚Üí Follow patterns ‚Üí Test thoroughly

### UI Development

- **Creating new UI components:**

  - @030-visual-design-system.mdc + @042-ui-component-architecture.mdc + @054-accessibility-requirements.mdc

- **Organization-branded UI components:**

  - @030-visual-design-system.mdc + @015-white-labeling-consolidated.mdc + @042-ui-component-architecture.mdc

- **Building forms:**
  - @042-ui-component-architecture.mdc + @054-accessibility-requirements.mdc + @131-error-handling.mdc + @055-form-validation.mdc

### Security & Authentication

- **üõ°Ô∏è Complete Security Implementation (NEW!):**

  - @010-security-compliance.mdc + @012-api-security.mdc + @067-database-security.mdc + @310-security-headers.mdc + @220-security-monitoring.mdc
  - Core compliance ‚Üí API security ‚Üí Database security ‚Üí Headers/CSP ‚Üí Monitoring/WAF

- **üîê Next.js Authentication (COMPLETE PATTERN):**

  - @072-auth-security.mdc + @019-auth0-integration.mdc + @046-session-validation.mdc + @011-env-var-security.mdc + @310-security-headers.mdc
  - Next.js patterns ‚Üí Auth0 setup ‚Üí Session validation ‚Üí Environment config ‚Üí Security headers

- **üåê Production Security Hardening:**

  - @220-security-monitoring.mdc + @310-security-headers.mdc + @012-api-security.mdc + @067-database-security.mdc
  - WAF/monitoring ‚Üí CSP/headers ‚Üí API security ‚Üí Database security

- **üîë Database Security (COMPREHENSIVE):**

  - @067-database-security.mdc + @025-multi-tenancy.mdc + @081-data-versioning-standards.mdc + @208-database-operations.mdc
  - SQL injection prevention ‚Üí Multi-tenant isolation ‚Üí Audit trails ‚Üí Operations/backups

- **Implementing security features:**

  - @010-security-compliance.mdc + @012-api-security.mdc + @046-session-validation.mdc + @047-security-design-system.mdc

- **Implementing Auth0 authentication:**

  - @019-auth0-integration.mdc + @014-third-party-auth.mdc + @046-session-validation.mdc + @011-env-var-security.mdc

- **Troubleshooting Auth0 M2M applications:**

  - @115-auth0-m2m-troubleshooting.mdc + @011-env-var-security.mdc + @150-technical-debt-prevention.mdc

- **Building secure APIs:**

  - @012-api-security.mdc + @025-multi-tenancy.mdc + @010-security-compliance.mdc + @067-database-security.mdc

- **Handling sensitive configuration:**

  - @010-security-compliance.mdc + @011-env-var-security.mdc + @224-secrets-management.mdc + @013-dependency-auditing.mdc

- **Implementing authentication flows:**

  - @014-third-party-auth.mdc + @046-session-validation.mdc + @047-security-design-system.mdc

### Architecture & System Design

- **üèóÔ∏è Next.js Application Architecture (NEW!):**

  - @070-nextjs-architecture.mdc + @110-middleware-architecture.mdc + @042-ui-component-architecture.mdc + @061-database-integration.mdc
  - Directory structure ‚Üí Middleware composition ‚Üí UI components ‚Üí Database integration

- **üéØ Feature Organization & Stability (NEW!):**

  - @100-feature-separation.mdc + @104-stable-interfaces.mdc + **@003-do-no-harm.mdc (CORE RULE)**
  - Feature separation ‚Üí API stability ‚Üí File safety principles

- **üîê Authentication Architecture Design (NEW!):**

  - @120-auth-architecture-patterns.mdc + @374-authentication-architecture-standards.mdc + @072-auth-security.mdc
  - Auth architecture ‚Üí Dual auth patterns ‚Üí Next.js implementation

- **üì¶ Middleware & Request Handling (NEW!):**

  - @110-middleware-architecture.mdc + @072-auth-security.mdc + @012-api-security.mdc
  - Middleware composition ‚Üí Auth middleware ‚Üí API security

### Database Operations

- **üóÑÔ∏è Complete Database Setup (NEW!):**

  - @061-database-integration.mdc + @065-database-access-patterns.mdc + @067-database-security.mdc + @069-database-resilience-patterns.mdc
  - Integration ‚Üí Repository pattern ‚Üí Security ‚Üí Resilience

- **üìä Database Operations & Maintenance (NEW!):**

  - @066-database-migration-standards.mdc + @208-database-operations.mdc + @081-data-versioning-standards.mdc
  - Migrations ‚Üí Operations/backups ‚Üí Audit trails/versioning

- **‚ö° Database Performance & Monitoring (NEW!):**

  - @082-database-performance-budgets.mdc + @068-database-monitoring-standards.mdc + @069-database-resilience-patterns.mdc
  - Performance budgets ‚Üí Monitoring ‚Üí Fault tolerance

- **üîí Secure Database Access (NEW!):**

  - @065-database-access-patterns.mdc + @067-database-security.mdc + @025-multi-tenancy.mdc
  - Repository pattern ‚Üí Security ‚Üí Multi-tenant isolation

- **üîë API Key Management System Design (NEW - ENTERPRISE-GRADE):**

  - @373-api-key-system-design.mdc + @374-authentication-architecture-standards.mdc + @372-api-key-testing-standards.mdc

- **üîë API Key Testing & Validation (NEW - COMPREHENSIVE):**

  - @372-api-key-testing-standards.mdc + @370-api-testing-database.mdc + @371-api-test-architecture.mdc

- **üõ°Ô∏è Authentication System Architecture (NEW - PRODUCTION-READY):**
  - @374-authentication-architecture-standards.mdc + @373-api-key-system-design.mdc + @012-api-security.mdc

### Platform & Data

- **Working with platform features:**

  - @016-platform-hierarchy.mdc + @025-multi-tenancy.mdc + @017-platform-user-features.mdc

- **Implementing payment features:**

  - @020-payment-security.mdc + @330-third-party-integration-testing.mdc + @331-high-risk-feature-testing.mdc

- **Implementing Stripe sync:**

  - @021-stripe-sync-implementation.mdc + @080-cross-service-data-consistency.mdc + @069-stripe-webhook-debugging.mdc

- **Building multi-tenant features:**
  - @025-multi-tenancy.mdc + @016-platform-hierarchy.mdc + @012-api-security.mdc

### Performance & Operations

- **Optimizing application performance:**

  - @060-performance-metrics.mdc + @061-code-splitting.mdc + @062-optimization.mdc

- **Setting up deployment security:**

  - @013-dependency-auditing.mdc + @220-security-monitoring.mdc + @200-deployment-infrastructure.mdc + @201-vercel-deployment-standards.mdc

- **Browser navigation and state management:**
  - @045-browser-state-management.mdc + @046-session-validation.mdc

### Development & Testing

- **üéâ AI-ASSISTED USER STORY TESTING (NEW - SUCCESS STORY):**

  - @380-comprehensive-testing-standards.mdc + @300-testing-standards.mdc + See [Testing Framework Success Story](mdc:/Users/spehargreg/Development/NCLB/guides/99-testing-framework-success-AI-survey-education.md) for complete case study of achieving 308 passing tests through AI + rules synergy

- **üéØ UNIVERSAL TESTING FRAMEWORK (NEW - FOUNDATION):**

  - @380-comprehensive-testing-standards.mdc + @372-api-key-testing-standards.mdc + @350-debug-test-failures.mdc

- **Testing critical features:**

  - @300-testing-standards.mdc + @301-test-first-mandate.mdc + @331-high-risk-feature-testing.mdc

- **Error handling & debugging:**

  - @131-error-handling.mdc + @130-logging-standards.mdc + @140-troubleshooting-standards.mdc

- **Component testing:**

  - @310-component-visual-testing.mdc + @054-accessibility-requirements.mdc + @320-test-resilience.mdc

- **üî• SYSTEMATIC TEST DEBUGGING (NEW):**

  - @350-debug-test-failures.mdc + @320-test-resilience.mdc + @351-sql-mock-debugging.mdc

- **SQL mock debugging & database test issues:**

  - @351-sql-mock-debugging.mdc + @116-testing-environments.mdc + @350-debug-test-failures.mdc

- **Large-scale test failure resolution:**

  - @350-debug-test-failures.mdc + @150-technical-debt-prevention.mdc + @300-testing-standards.mdc

- **üßô‚Äç‚ôÇÔ∏è Multi-Step Wizard Development (NEW - BATTLE-TESTED):**

  - @360-wizard-architecture-standards.mdc + @042-ui-component-architecture.mdc + @130-error-handling.mdc

- **üõ°Ô∏è Rate Limiting Implementation (NEW - PRODUCTION-PROVEN):**

  - @355-rate-limiting-implementation.mdc + @356-rate-limiting-testing-patterns.mdc + @350-debug-test-failures.mdc + @012-api-security.mdc

- **üîë API Key Management Testing (NEW - ENTERPRISE-GRADE):**

  - @372-api-key-testing-standards.mdc + @370-api-testing-database.mdc + @371-api-test-architecture.mdc

- **üìä Database Testing Infrastructure:**

  - @370-api-testing-database.mdc + @371-api-test-architecture.mdc + @380-comprehensive-testing-standards.mdc

### Code Maintenance & Testing

- **Setting up test environments:**

  - @116-testing-environments.mdc + @060-api-standards.mdc + @025-multi-tenancy.mdc

- **Code cleanup operations:**
  - @150-technical-debt-prevention.mdc + @100-coding-patterns.mdc + @130-logging-standards.mdc
- **Managing technical debt:**
  - @150-technical-debt-prevention.mdc + @116-testing-environments.mdc + @300-testing-standards.mdc
- **API refactoring:**

  - @150-technical-debt-prevention.mdc + @060-api-standards.mdc + @025-multi-tenancy.mdc

- **TypeScript development:**

  - @105-typescript-linter-standards.mdc + @100-coding-patterns.mdc + @150-technical-debt-prevention.mdc

- **Vercel deployments:**
  - @201-vercel-deployment-standards.mdc + @200-deployment-infrastructure.mdc + @220-security-monitoring.mdc + @204-vercel-build-environment-variables.mdc

```mdc
___
description: ACTION when TRIGGER to OUTCOME
globs: "*.mdc"
___

# Rule Title
- Use active title to summarize

## Context
- When to apply this rule
- Prerequisites or conditions

## Requirements
- Concise, actionable items
- Each requirement must be testable

## Examples
<example>
Good concise example with explanation
</example>

<example type="invalid">
Invalid concise example with explanation
</example>

## File Organization

### Location
- Path: .cursor/rules/
- Extension: .mdc

### Naming Convention
PREFIX-name.mdc where PREFIX is:
- 0XX: Core standards
- 1XX: Tool configs
- 3XX: Testing standards
- 1XX: Language rules
- 2XXX: Framework rules
- 8XX: Workflows
- 9XX: Templates
- _name.mdc: Private rules

### Glob Pattern Examples
Common glob patterns for different rule types:
- Core standards: .cursor/rules/*.mdc
- Language rules: src/**/*.{js,ts}
- Testing standards: **/*.test.{js,ts}
- React components: src/components/**/*.tsx
- Documentation: docs/**/*.md
- Configuration files: *.config.{js,json}
- Build artifacts: dist/**/*
- Multiple extensions: src/**/*.{js,jsx,ts,tsx}
- Multiple files: dist/**/*, docs/**/*.md

```
